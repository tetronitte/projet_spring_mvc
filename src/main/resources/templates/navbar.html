<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Header</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>
<body>
<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <!-- Container wrapper -->
    <div class="container-fluid">
        <!-- Toggle button -->
        <button
                class="navbar-toggler"
                type="button"
                data-mdb-toggle="collapse"
                data-mdb-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent"
                aria-expanded="false"
                aria-label="Toggle navigation"
        >
            <i class="fas fa-bars"></i>
        </button>

        <!-- Collapsible wrapper -->
        <div class="collapse navbar-collapse d-flex flex-row" id="navbarSupportedContent">
            <!-- Navbar brand -->
            <a class="navbar-brand mt-2 mt-lg-0" href="#">
                <img
                        src="https://img.icons8.com/external-xnimrodx-lineal-gradient-xnimrodx/64/null/external-phone-notification-xnimrodx-lineal-gradient-xnimrodx.png"
                        height="50"
                        alt="Phone Logo"
                        loading="lazy"
                />
            </a>
            <!-- Left links -->
<!--            Left links IF USER IS NOT CONNECTED-->
            <td> <span th:if="${!session.isEmpty()}">
            </span>
            </td>
<!-- Left links IF USER IS CONNECTED-->
            <td> <span th:if="${!session.isEmpty()}">
            <ul class="navbar-nav d-flex flex-row  me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <span th:text="${session.username}"></span>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/contact/getAll">Contacts</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="profile">Profile</a>
                </li>
            </ul>
                </span>
            </td>
            <!-- Left links -->
        </div>
        <!-- Collapsible wrapper -->

        <!-- Right elements -->
        <!--    TODO Afficher ces éléments uniquement lorsqu'on est connecté-->
        <div class="d-flex align-items-justify ">
            <ul class="d-flex align-items-center navbar-nav me-auto mb-2 mb-lg-0 ">

                <!--        Si la session a un attribut: utilisateur connecté-->
                <td> <span th:if="${!session.isEmpty()}">
            <form action="#" th:action="@{/user/logout}" method="get">
        <li class="nav-item">
          <button type="submit" class="btn btn-primary" href="/user/logout"> Logout</a></button>
        </li>
            </form>
        </span>
                </td>

                <!--        Si la session a un attribut vide: pas d'utilisateur connecté-->
                <td>
          <span th:if="${session.isEmpty()}">
              <form action="#" th:action="@{/user/login}" method="get">
        <li class="nav-item">

          <button type="submit" class="btn btn-primary" href="/user/login"> Login</a></button>
        </li>
              </form>
          </span>
                </td>
            </ul>

        </div>
        <!-- Right elements -->
    </div>
    <!-- Container wrapper -->
</nav>
<!-- Navbar -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
</body>
</html>